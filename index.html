<!DOCTYPE html><html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculadora de Peso de Bobinas ‚Äî v3.7</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icon-192.png" type="image/png" />
  <meta name="theme-color" content="#ff7f00" />
  <style>
    :root{
      --azul:#005b96;
      --naranja:#ff7f00;
      --naranja-hover:#e66b00;
      --gris-fondo:#f4f4f4;
      --borde:#e5e5e5;
    }
    body{font-family:Arial,sans-serif;background:var(--gris-fondo);margin:0;display:flex;flex-direction:column;min-height:100vh;}
    header{display:flex;align-items:center;justify-content:center;background:var(--azul);color:#fff;padding:10px 12px;gap:10px;}
    header img{height:40px}
    main{flex:1;padding:16px;max-width:480px;margin:16px auto 96px;background:#fff;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,.08)}
    .tabs{display:flex;gap:8px;margin-bottom:16px}
    .tab-btn{flex:1;padding:10px;border:1px solid var(--borde);background:#fff;color:var(--azul);font-weight:bold;border-radius:8px;cursor:pointer}
    .tab-btn.active{background:var(--naranja);color:#fff;border-color:var(--naranja)}
    label{display:block;margin-top:14px;font-weight:bold}
    input{width:100%;padding:8px;font-size:16px;margin-top:5px;border:1px solid #ccc;border-radius:6px;text-align:left}
    .actions{margin-top:18px}
    button.primary{width:100%;padding:12px;background:var(--naranja);color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer}
    button.primary:hover{background:var(--naranja-hover)}
    #resultado-bobina,#resultado-resma{margin-top:16px;font-size:20px;font-weight:bold;text-align:center;color:#333}
    #mano,#metros{margin-top:4px;font-size:18px;text-align:center;color:#555}
    .hidden{display:none}.subswitch{display:flex;gap:8px;margin:4px 0 2px}
.subswitch .mode{flex:1;padding:4px 2px;border:1px solid var(--borde);border-radius:8px;background:#fff;color:var(--azul);font-weight:bold;font-size:13px;cursor:pointer;opacity:0.9}
.subswitch .mode.active{background:var(--naranja);color:#fff;border-color:var(--naranja);opacity:1}

footer{background:var(--azul);color:#fff;text-align:center;padding:10px;font-size:14px;position:fixed;bottom:0;left:0;right:0}

  </style>
</head>
<body>
  <header>
    <img src="icon-192.png" alt="Logo" />
    <h1>Calculadoras de papel</h1>
  </header>  <main>
    <div class="tabs">
      <button id="tab-bobina" class="tab-btn active">Bobina de papel</button>
      <button id="tab-resma" class="tab-btn">Papel resmado</button>
    </div><!-- Panel: Bobina -->
<section id="panel-bobina">
  <label for="g">Gramaje (g/m¬≤):</label>
  <input type="number" id="g" inputmode="decimal" />
  <label for="t">Espesor (¬µm):</label>
  <input type="number" id="t" inputmode="decimal" />
  <label for="a">Ancho de la bobina (mm):</label>
  <input type="number" id="a" inputmode="decimal" />
  <label for="D">Di√°metro exterior (mm):</label>
  <input type="number" id="D" inputmode="decimal" />
  <label for="d">Di√°metro del mandril (mm):</label>
  <input type="number" id="d" inputmode="decimal" />
  <div class="actions"><button class="primary" id="btn-bobina">Calcular Peso</button></div>
  <div id="resultado-bobina"></div>
  <div id="mano"></div>
  <div id="metros"></div>
</section>

<!-- Panel: Resma -->
<section id="panel-resma" class="hidden">
  <div class="subswitch">
    <button id="mode-peso" class="mode active">Calcular peso</button>
    <button id="mode-hojas" class="mode">Calcular n¬∫ de hojas</button>
    <button id="mode-hojas-metros" class="mode">Pliegos desde metros</button>
  </div>
  <div id="bloque-peso">
    <label for="nH">N√∫mero de hojas:</label>
    <input type="number" id="nH" inputmode="numeric" />
    <label for="gR">Gramaje (g/m¬≤):</label>
    <input type="number" id="gR" inputmode="decimal" />
    <label for="aR">Ancho del pliego (mm):</label>
    <input type="number" id="aR" inputmode="decimal" />
    <label for="lR">Largo del pliego (mm):</label>
    <input type="number" id="lR" inputmode="decimal" />
    <div class="actions"><button class="primary" id="btn-resma-peso">Calcular Peso</button></div>
  </div>
  <div id="bloque-hojas" class="hidden">
    <label for="pK">Peso total de la pila (kg):</label>
    <input type="number" id="pK" inputmode="decimal" />
    <label for="gR2">Gramaje (g/m¬≤):</label>
    <input type="number" id="gR2" inputmode="decimal" />
    <label for="aR2">Ancho del pliego (mm):</label>
    <input type="number" id="aR2" inputmode="decimal" />
    <label for="lR2">Largo del pliego (mm):</label>
    <input type="number" id="lR2" inputmode="decimal" />
    <div class="actions"><button class="primary" id="btn-resma-hojas">Calcular n¬∫ de hojas</button></div>
  </div>
  <div id="bloque-hojas-metros" class="hidden">
    <label for="mL">Metros lineales de la bobina (m):</label>
    <input type="number" id="mL" inputmode="decimal" />
    <label for="lR3">Largo del pliego (mm):</label>
    <input type="number" id="lR3" inputmode="decimal" />
    <div class="actions"><button class="primary" id="btn-hojas-metros">Calcular n¬∫ de pliegos</button></div>
  </div>
  <div id="resultado-resma"></div>
</section>

  </main>  <footer>¬© Mihai Florea ‚Äî Perell√≥n S.L.</footer>  <script>
    function num(id){const v=document.getElementById(id).value.trim().replace(',', '.');return parseFloat(v);}  
    const tabB=document.getElementById('tab-bobina');const tabR=document.getElementById('tab-resma');const pB=document.getElementById('panel-bobina');const pR=document.getElementById('panel-resma');
    tabB.onclick=()=>{tabB.classList.add('active');tabR.classList.remove('active');pB.classList.remove('hidden');pR.classList.add('hidden');}
    tabR.onclick=()=>{tabR.classList.add('active');tabB.classList.remove('active');pR.classList.remove('hidden');pB.classList.add('hidden');}

    const mP=document.getElementById('mode-peso');
    const mH=document.getElementById('mode-hojas');
    const mHM=document.getElementById('mode-hojas-metros');
    const bP=document.getElementById('bloque-peso');
    const bH=document.getElementById('bloque-hojas');
    const bHM=document.getElementById('bloque-hojas-metros');

    function activarModo(which){
      [mP,mH,mHM].forEach(b=>b.classList.remove('active'));
      [bP,bH,bHM].forEach(el=>el.classList.add('hidden'));
      document.getElementById('resultado-resma').textContent='';
      if(which==='peso'){mP.classList.add('active');bP.classList.remove('hidden');}
      if(which==='hojas'){mH.classList.add('active');bH.classList.remove('hidden');}
      if(which==='metros'){mHM.classList.add('active');bHM.classList.remove('hidden');}
    }

    mP.onclick=()=>activarModo('peso');
    mH.onclick=()=>activarModo('hojas');
    mHM.onclick=()=>activarModo('metros');

    // Bobina (con espesor)
    document.getElementById('btn-bobina').onclick=()=>{
      const G=num('g'),t=num('t'),A=num('a'),D=num('D'),d=num('d');
      const out=document.getElementById('resultado-bobina');
      const mano=document.getElementById('mano');
      const metros=document.getElementById('metros');
      if([G,t,A,D,d].some(x=>isNaN(x)||x<=0)){
        out.textContent='‚ö†Ô∏è Introduce todos los valores positivos.'; mano.textContent=''; metros.textContent=''; return;
      }
      if(D<=d){ out.textContent='‚ö†Ô∏è El di√°metro exterior debe ser mayor que el mandril.'; mano.textContent=''; metros.textContent=''; return; }
      const P=(Math.PI*G*A*(D*D-d*d))/(4*1e6*t);
      const M=t/G;
      const L=(Math.PI*(D*D-d*d))/(4*1000*t);
      out.innerHTML=`üìà Peso: <strong>${P.toFixed(2)}</strong> kg`;
      mano.innerHTML=`‚úã Mano: <strong>${M.toFixed(2)}</strong>`;
      metros.innerHTML=`üìè Metros lineales: <strong>${L.toFixed(0)}</strong> m`;
    }

    // Resma ‚Üí Peso
    document.getElementById('btn-resma-peso').onclick=()=>{
      const N=num('nH'),G=num('gR'),A=num('aR'),L=num('lR');
      const out=document.getElementById('resultado-resma');
      if([N,G,A,L].some(x=>isNaN(x)||x<=0)){ out.textContent='‚ö†Ô∏è Completa todos los campos.'; return; }
      const P=(N*G*A*L)/1e9; // kg
      out.innerHTML=`üì¶ Peso: <strong>${P.toFixed(3)}</strong> kg`;
    }

    // Resma ‚Üí N¬∫ de hojas (desde peso total)
    document.getElementById('btn-resma-hojas').onclick=()=>{
      const P=num('pK'),G=num('gR2'),A=num('aR2'),L=num('lR2');
      const out=document.getElementById('resultado-resma');
      if([P,G,A,L].some(x=>isNaN(x)||x<=0)){ out.textContent='‚ö†Ô∏è Completa todos los campos.'; return; }
      const N=(P*1e9)/(G*A*L);
      out.innerHTML=`üìÑ Hojas: <strong>${Math.floor(N)}</strong>`;
    }

    // Resma ‚Üí N¬∫ de pliegos desde metros lineales
    document.getElementById('btn-hojas-metros').onclick=()=>{
      const ML=num('mL'); const Lmm=num('lR3');
      const out=document.getElementById('resultado-resma');
      if([ML,Lmm].some(x=>isNaN(x)||x<=0)){ out.textContent='‚ö†Ô∏è Completa todos los campos.'; return; }
      const N=(ML*1000)/Lmm;
      out.innerHTML=`üìÑ Pliegos: <strong>${Math.floor(N)}</strong>`;
    }
  </script></body>
</html>