<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora de Bobinas (Tipos de papel ampliados)</title>
<style>
  body { font-family: Arial, sans-serif; background: #f4f6f8; padding: 20px; }
  h1 { text-align: center; color: #2c3e50; }
  label { display: block; margin-top: 12px; font-weight: bold; color: #34495e; }
  input, select { width: 100%; padding: 8px; margin-top: 4px; border-radius: 6px; border: 1px solid #ccc; font-size: 15px; }
  button { width: 100%; margin-top: 20px; padding: 10px; background: #007bff; color: white; font-size: 16px; border: none; border-radius: 6px; cursor: pointer; }
  button:hover { background: #0069d9; }
  .resultado { margin-top: 20px; background: white; padding: 15px; border-radius: 6px; text-align: center; font-size: 18px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
</style>
</head>
<body>

<h1>Calculadora de Bobinas</h1>

<label>Gramaje (g/m¬≤):</label>
<input type="number" id="gramaje" placeholder="Ejemplo: 59">

<label>Ancho del papel (mm):</label>
<input type="number" id="ancho" placeholder="Ejemplo: 2060">

<label>Di√°metro exterior (mm):</label>
<input type="number" id="diametroExterior" placeholder="Ejemplo: 1530">

<label>Di√°metro del mandril (mm):</label>
<input type="number" id="diametroMandril" placeholder="Ejemplo: 152">

<label>Tipo de papel (elige uno):</label>
<select id="tipoPapel" onchange="gestionarCalibre()">
  <option value="" disabled selected>Selecciona tipo de papel</option>
  <option value="0.080">Papel prensa ‚Äî 0.080 mm</option>
  <option value="0.065">Offset / impresi√≥n ‚Äî 0.065 mm</option>
  <option value="0.059">Couch√© brillante ‚Äî 0.059 mm</option>
  <option value="0.074">Kraft ‚Äî 0.074 mm</option>
  <option value="0.100">Cartulina ‚Äî 0.100 mm</option>
  <option value="0.060">Papel t√©rmico ‚Äî 0.060 mm</option>
  <option value="0.070">Papel reciclado ‚Äî 0.070 mm</option>
  <option value="0.085">Kraft liner ‚Äî 0.085 mm</option>
  <option value="0.090">Testliner ‚Äî 0.090 mm</option>
  <option value="0.095">Cartulina d√∫plex ‚Äî 0.095 mm</option>
  <option value="0.080">Bond / escritura ‚Äî 0.080 mm</option>
  <option value="manual">Otro (introducir calibre manualmente)</option>
</select>

<label>Calibre (mm):</label>
<input type="number" id="calibre" placeholder="Ejemplo: 0.08" readonly>

<button onclick="calcularPeso()">CALCULAR PESO</button>

<div id="resultado" class="resultado"></div>

<script>
function gestionarCalibre() {
  const select = document.getElementById('tipoPapel');
  const calibreInput = document.getElementById('calibre');
  const valor = select.value;

  if (valor === "manual") {
    calibreInput.value = "";
    calibreInput.removeAttribute("readonly");
    calibreInput.placeholder = "Introduce el calibre en mm";
  } else {
    calibreInput.value = valor;
    calibreInput.setAttribute("readonly", true);
  }
}

function calcularPeso() {
  const G = parseFloat(document.getElementById('gramaje').value);
  const A = parseFloat(document.getElementById('ancho').value);
  const De = parseFloat(document.getElementById('diametroExterior').value);
  const Di = parseFloat(document.getElementById('diametroMandril').value);
  const e = parseFloat(document.getElementById('calibre').value);

  if (isNaN(G) || isNaN(A) || isNaN(De) || isNaN(Di) || isNaN(e)) {
    document.getElementById('resultado').innerHTML = "‚ö†Ô∏è Introduce todos los valores y selecciona el tipo de papel o calibre.";
    return;
  }

  // Conversi√≥n a metros
  const A_m = A / 1000;
  const De_m = De / 1000;
  const Di_m = Di / 1000;
  const e_m = e / 1000;

  // F√≥rmula con calibre
  const peso = (Math.PI * G * A_m * (Math.pow(De_m, 2) - Math.pow(Di_m, 2))) / (4 * e_m * 1000);

  document.getElementById('resultado').innerHTML =
    "üì¶ Peso aproximado de la bobina: <b>" + peso.toFixed(2) + " kg</b>";
}
</script>

</body>
</html>
